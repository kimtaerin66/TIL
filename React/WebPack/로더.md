# 로더
웹팩은 js파일뿐만아니라, jpg, css까지 번들링을 해주는데 

그 역할을 하는것이 바로 로더 이다.

기본적인 css사용방법은 html에 link로 css파일을 연결하는것

문제점 : 개발자모드의 네트워크탭으로 살펴보면,

js파일은 번들링되어 한번에 받아오지만, 번들링되지않은

css파일은 또 서버에서 따로 받아온다.

이 css파일까지 번들링해보자.

## 01. css 로더설치
(공식사이트 참고)
```node
$ npm install --save-dev style-loader css-loader
```

## 02. config.js파일에 모듈추가
```js
const path = require('path');
module.exports ={
    mode : "development",
    entry:"./index.js",
    output:{
        path:path.resolve(__dirname, "dist"),
        filename:'index_bundle.js'
    },
    //이하 추가된부분
    module:{
        rules:[
            {
                test:/\.css$/,
                use:[
                    'css-loader'
                ]
            }
        ]
    }
}
```
이렇게 정규식을 이용해 작성을 하면, css파일을 만나면

css로더로 처리한다는 뜻이 된다.

## 03. 사용

기존에는 index.html 상단에 link로 css를 불러왔지만,

이제는 index.js에 import해준다.

(기존css는 번들링대상이 아니어서 퍼블릭폴더에있었지만,
번들링할거라 index.js파일과 같은 위치로 옮겨준다)
```html
<!-- 기존 index.html -->
 <link rel="stylesheet" href="public/style.css">
```
css파일을 번들링하기위해 옮긴 모습
```js
//index.js
import hello_word from "./hello.js"
import world_word from "./world.js"
import css from "./style.css"
document.querySelector('#root').innerHTML = hello_word + ' ' + world_word;
console.log(css); //출력해보면
```
npx webpack으로 webpack을 실행하면

css스타일은 적용되지 않고, 콘솔창에 자바스크립트의 형태로 출력만된다.


```console
//console
css 
[Array(3), toString: ƒ, i: ƒ]
0: (3) ['./style.css', 'body {\r\n    background-color: powderblue;\r\n    color: tomato;\r\n}', '']
i: ƒ i(modules, media, dedupe, supports, layer)
toString: ƒ toString()
length: 1
[[Prototype]]: Array(0)

```
이 코드를 자바스크립트를 이용해서 사용하면되겠지만,

더 편리하게 style-loader를 이용하면된다.
```js
//config.js
const path = require('path');
module.exports ={
    mode : "development",
    entry:"./index.js",
    output:{
        path:path.resolve(__dirname, "public"),
        filename:'index_bundle.js'
    },
    module:{
        rules:[
            {
                test:/\.css$/,
                use:[
                    'style-loader' //추가된 부분
                    'css-loader'
                ]
            }
        ]
    }
}
```

다시 npx webpack을하면,

css가 적용된다.

이렇게 로더라는 것은 우리가 지정한 파일을 발견하면,

파일에 따라 지정한 가공을 통해 우리가 원하는 결과를 만들어준다.