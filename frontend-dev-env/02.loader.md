## loader 란?

웹팩은 모든 파일을 모듈로 생각한다. 

css,js 뿐만아니라 폰트까지도 모듈로 생각하기에 import로 가져와 사용할수 있게된다.

일반적인 css파일이나 js파일을 바로 import해서 사용하는게 아닌, 로더를 거쳐 로더가 파일을 모듈로 바꿔주는 역할을 한다.

## loader 사용법 
먼저 loader를 간단하게 하나 만들어보자.

1. package.json과 같은 위치(최상위)에 my-webpack-loader.js파일을 생성한다.

```js
// my-webpack-loader.js
module.exports = function myWebpackLoader(content){
    console.log("loader 동작");
    return content;
}
```

2. webpack.config.js 파일에 module부분을 추가한다.

```js
// webpack.config.js
const path =require('path');

//필수옵션 mode entry output
module.exports = {
    mode : 'development',
    entry: {
        main : './src/app.js'
    },
    output: { //resolve가 절대경로를 찾아주는 함수.
     path:path.resolve('./dist'),
     filename : '[name].js'
    },
    module: {
        rules: [
            {
                test: /\.js$/, //모든 js파일
                use:   [
                    path.resolve('./my-webpack-loader.js')
                ]
            }
        ]
    }
};

```

module은  test와 use라는 key를 갖는 rules 배열을 사용한다.

test에는 로더가 처리해야할 파일들의 패턴을 정규식으로 입력, use에는 사용할 로더 입력(경로)

그리고, 이미 package.json build에 webpack을 등록했기에 npm run build로 실행해보면, 

![image](https://github.com/user-attachments/assets/6df303ed-fe2d-47bf-a449-06bf37075712)


console.log가 여러번 찍힌다. 그 이유는 우리가 모든 js파일에 로더를 한번씩 실행했기 때문이다.


## 자주 사용하는 로더

1. css-loader

일반적인 css를 작성하고, js에 import한 다음, build하면 에러가 발생한다.

![image](https://github.com/user-attachments/assets/2beb031d-017a-4bfb-b61a-39651f860185)

웹팩이 css가 무슨말인지 모르겠다고 error를 발생시키는건데,

import로 파일을 가져오려면, 모듈이어야하고, css는 모듈이 아니기때문에 로더가 css를 모듈로 바꿔줘야한다.

> css-loader 설치 
```node
npm install css-loader
```
> webpack.config.js에 css-loader 추가
```json
const path =require('path');

//필수옵션 mode entry output
module.exports = {
    mode : 'development',
    entry: {
        main : './src/app.js'
    },
    output: { 
     path:path.resolve('./dist'),
     filename : '[name].js'
    },
    module: {
        rules: [
            {
                test: /\.css$/,
                use: [
                    'css-loader'
                ]
            }
        ]
    }
};

```
이렇게 작성하고 재빌드하면, 빌드 성공 !

   


