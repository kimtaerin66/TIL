# 운영체제

## 운영체제란 무엇인가?

컴퓨터 시스템의 구성은
1. 하드웨어 ( cpu,메모리, 저장장치, 네트워크 장치 등)
2. 소프트웨어 (브라우저, 파워포인트, 한글 등)
3. 운영체제 (윈도우, 리눅스, 유닉스 등)

이렇게 세가지로 구분되는데, 하드웨어는 이름처럼 딱딱한, 물리적인 장치들을 말하고 ,소프트웨어는 우리가 켬퓨터를 켜고 사용하는 브라우저, 파워포인트, 한글 등을 말한다.

그리고 운영체제는 대표적인 시스템 소프트웨어로서
컴퓨터 시스템의 자원을 관리하고, 프로그램이 동작하기위한
서비스들을 사용자에게 제공한다.

운영체제의 역할 : 컴퓨터 시스템의 자원관리, 사용자 지원

## 운영체제가 없을때 vs 있을때

[ 운영체제가 없을때 ]
처음부터 운영체제가 있었던건 아니므로, 1940년 처음 컴퓨터가 개발되었을때와 비교를해보면

어떠한 응용프로그램이 하나있고, 이 응용프로그램을 개발할때 개발자는 하드웨어를 직접 제어까지해야했다.

예를 들어 글자를 모니터에 출력하고싶다면,
지금은 사용하고자하는 언어에맞게 cout, console.log등을 사용하면 되지만
저 당시에는 응용프로그램으로 모니터에 출력하려면, 하드웨어를 직접제어해 어느 부분에 어떻게 출력할것인가를 정해줘야했다.

 => 문제점 : 응용프로그램에서 직접 하드웨어를 제어하다보니, 사용하는 응용프로그램이 여러개이고, 사용되는 하드웨어 자원이 겹칠때 문제가 발생하여, 컴퓨터 전체에 큰 영향을 끼칠수 있다.
 
![image](https://user-images.githubusercontent.com/85108615/230814264-916c0dfa-6d8c-4fef-b066-dd0eba9c956f.png)


[ 운영체제가 있을때 ]

이와 같은 문제들을 해결하기위해 운영체제가 등장하였고, 응용프로그램에서 바로 하드웨어를 제어하는게 아닌,
중간에 운영체제를 거쳐 하드웨어를 제어한다.

![image](https://user-images.githubusercontent.com/85108615/230814384-0e925da5-bac1-4036-afec-326f49ae9633.png)

## 이중 모드
위에서처럼 운영체제를 이용해 하드웨어를 제어하기위해서는 이 이중모드를 통해 이루어지는데, 이중모드는 커널모드와 사용자모드이다.

- 커널모드(슈퍼바이저 모드) : 하드웨어를 직접 제어할수 있는 CPU 명령어 사용가능, 운영체제의 커널이 동작함

- 사용자모드 : 하드웨어를 직접 제어할수 있는 CPU 명령어 사용불가능, 응용프로그램이 동작함

## 시스템 호출(시스템 콜)
일반적으로 사용자모드로 사용하다가, 하드웨어를 제어하기위해
커널모드를 전환하는 것을 시스템 호출 이라고한다.

=> 그렇다면 여기서 커널은 무엇일까?

## 커널(Kernel)
커널모드에서 동작하는 운영체제의 핵심요소로  일체형 커널과, 마이크로커널로 나뉜다.

[ 일체형 커널 ]
-  UNIX, Linux
- 운영체제의 모든 서비스가 커널내에 존재

장점 : 여러 요소를 사용해도, 전부 내부에 존재하므로 상호작용함

단점 : 한 요소라도 오류가 발생하면 시스템 전체 장애 발생가능
[ 마이크로 커널 ]
- 운영체제 요소의 대부분이 커널 외부에 존재
- 메모리관리, 멀티태스킹 등 최소한의 요소만 커널내에 남김

장점 : 새로운 서비스를 추가하여 운영체제 확장 쉬움, 유지보수 쉬움
단점 : 커널외부 요소들끼리 상호작용 어려움 -> 성능저하

## 운영체제의 구성
1. 프로세스 관리자
2. 메모리 관리자
3. 장치 관리자
4. 파일 관리자

[ 프로세스 관리자 ]
- 프로세스 생성 및 삭제
- CPU 할당을 위한 스케줄 결정
- 프로세스의 상태를 관리

실행중인 프로그램을 프로세스라고 하는데, 윈도우의 작업관리자를 열어보면 굉장히 많은 프로세스들이 실행중인것을 알 수 있다.
프로세스 관리자는 사용하고자하는 프로세스를 메모리에 생성하고, 이제는 사용하지 않는 프로세스를 메모리에서 삭제한다.

또 프로세스들을 상태도 다 다르고, 실행하기위한 자원도 다 다르기때문에 이를 운영체제가 관리해야한다.

![image](https://user-images.githubusercontent.com/85108615/230829369-f9913f58-ebb2-4858-8380-60c46463cd98.png)


[ 메모리 관리자 ]
- 메모리 공간에대한 요구의 유효성 확인
- 메모리 할당 및 회수

메모리에 적재된 프로세스들은 크기도, 주소도 다 다르기때문에 운영체제는
새로운 프로세스가 적재될때마다 어느주소에 적재할지 결정한다. 

메모리가 이미 다차있어서 적재할 공간이 없는경우나 공간이 있어도 프로세스를 적재하지 못하는 상황이 발생한다.

[ 장치 관리자 ]
- 컴퓨터 시스템의 모든 장치 관리
- 시스템 장치의 할당, 작동, 반환

[ 파일 관리자 ]
- 컴퓨터 시스템의 모든 파일 관리
- 저장장치 공간 관리
- 파일 접근제한 관리

우리가 파일을 만들고, 삭제하고 또 폴더에 관리하는것 모두 파일 관리자가 하는 서비스이다.



이미지 출처 및  : https://hongong.hanbit.co.kr/%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C%EB%9E%80-%EC%BB%A4%EB%84%90%EC%9D%98-%EA%B0%9C%EB%85%90-%EC%9D%91%EC%9A%A9-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%A8-%EC%8B%A4%ED%96%89%EC%9D%84-%EC%9C%84%ED%95%9C/

