# 프로세스

프로세스란 실행중인 프로그램을 말한다.

프로그램은 동작을 하지않는 정적인 개체, 프로세스를 동작을 하는, 실행중인 개체

운영체제의 프로세스 관리자가 프로세스를 관리한다.

예)Hwp.exe는 한글 프로그램, 이 Hwp.exe를 더블클릭하면 실행되어 작업관리자에서 확인이 가능한 프로세스가 된다.

### PID(Process ID)
프로세스를 식별하기위해 부여하는 고유한 번호이다. 

동일한 프로그램을 실행하더라도 이 프로세스 id로 구별할 수 있다.
### 프로세스의 구성

프로세스는 메모리 구조와 프로세스 제어 블록로 나뉜다.

- 메모리 구조  : 프로그램 실행에 직접적으로 필요한 코드와 데이터를 가지고있으며,
코드영역과 데이터 영역으로 나뉜다. 코드 영역은 프로그램 자체 코드들이 담겨있고, 데이터 영역에는 프로그램 실행시 필요한 데이터가 담겨있다.

- 프로세스 제어 블록(PCB) : 운영체제가 프로세스를 관리하기 위해 필요한 정보, PID(프로세스id), 프로세스 상태, 프로세스 카운터, 레지스터, 메모리 관리 정보 등..
 여러 프로세스가 번갈아가면서 실행되는 경우 PCB에 저장된 정보를 활용한다.
 
 ### 프로세스의 상태 
 
 프로세스 상태는 생성, 준비, 대기, 실행, 종료 이 5가지가 대표적인데이다.
 
 1. 생성 : 처음 프로세스를 실행 :  PCB가 만들어지고, 메모리가 할당됨
 2. 준비 : 생성된 프로세스가 준비큐에 대기하는 상태
 3. 실행 : CPU에 프로세스가 할당됨
 4. 대기 : 프로세스가 실행되다가 이벤트에 걸려 다른 프로세스에 CPU를 넘겨준상태, CPU를 다시받으면 실행상태가 된다.
 5. 종료 : 프로세스가 더이상 실행되지않도록 끝난 상태

 [ 프로세스의 상태 변화 ] 
 ![image](https://user-images.githubusercontent.com/85108615/233090543-ebd60053-ae21-4185-a371-b7f7eefab624.png)

 이미지 출처 : https://lotuslee.tistory.com/85
 
 생성에서는 준비로만 변화가능 > 준비에서 CPU를 할당받는 과정을 디스패치 라고한다 = 실행단계> 실행되던 프로세스가 할당시간이 만료되었지만, 종료되지 않았다면 실행에서 대기단계로 돌아간다 > 다시 CPU를 할당받으면 실행이아닌 준비 단계 > 다시 디스패치되어 실행 > 종료
 
 ### 부모 프로세스, 자식 프로세스
 
 프로세스를 만드는 방법에는 두가지가있다.
 
 1. 사용자가 프로그램을 실행
 2. 한 프로세스가 다른 프로세스를 생성(프로세스 생성 시스템 호출 이용)
 
 2번 방법에서 이미 존재하고있는 프로세스가 부모 프로세스이고,
 
 이 부모 프로세스에의해 생성되는 프로세스를 자식 프로세스라고한다.

 ### 프로세스 생성 시스템 호출
 
 - UNIX,Linux : fork()
 
 부모프로세스를 복제해 자식프로세스를 만든다. 달라지는건 PID뿐.

부모는 자식프로세스의 PID값을 받아오게되고, 자식 프로세스는 0을 받아온다.

이 값으로 부모/자식 구분이 가능하다.

 - UNIX,Linux : exec()

자식 프로세스는 부모 프로세스와는 다른 프로그램을 실행한다.

- Windows : CreateProcess()
자식 프로세스는 새로운 프로그램으로 생성된다.

 ### 프로세스 종료 방법
  
 1. 프로세스의 모든 과정을 거쳐 종료
 2. 부모 프로세스가 자식 프로세스를 강제로 종료( 프로세스 종료 시스템 호출 : 이때 자식의 PID가 필요 ) 
 3. 부모 프로세스가 종료되어, 자식 프로세스도 종료됨
 
