# API_Create

[ Request ]

유저의 모든 요청을 받아들이기위해 모델을 생성한다.

data부분 작성.

![image](https://user-images.githubusercontent.com/85108615/199145231-f1e26dda-3d36-421d-8ec7-b34e92b21d38.png)


model > network > request > UserApiRequest.java 생성


```java

package com.example.study.model.network.request;

import lombok.AllArgsConstructor;
import lombok.Builder;
import lombok.Data;
import lombok.NoArgsConstructor;

//사용자의 요청을 받기위한 모델
@Data
@AllArgsConstructor
@NoArgsConstructor
@Builder //디자인패턴중 하나로, 생성자에서 인자가 많을때
public class UserApiRequest {

    private Long id;

    private String account;
    private String password;
    private String status;
    private String email;
    private String phoneNumber;

}

```

가입일자나 해지일자는 클라이언트에서 받는것이아닌, 서버에서 자동생성이므로 생략.

[ Response ]

요청이 들어오면 그에맞는 응답을 주는 모델

![image](https://user-images.githubusercontent.com/85108615/199145474-3855f8df-fff1-4e8a-a65b-06e37ea9d7f6.png)

model > network > response > UserApiResponse.java 생성

내려줄 정보에 대해 작성.

```java
package com.example.study.model.network.response;

import lombok.AllArgsConstructor;
import lombok.Data;
import lombok.NoArgsConstructor;

import java.time.LocalDateTime;

@Data
@AllArgsConstructor
@NoArgsConstructor
public class UserApiResponse {

    private Long id;

    private String account;

    private String password; //마스킹되어 내려감.
    private String status;
    private String email;
    private String phoneNumber;
    private LocalDateTime registeredAt;
    private LocalDateTime unregisteredAt;

}

```

### Request와 Response를 따로 작성하는 이유

비슷한 모양인데 따로 작성하는이유는 요청시엔 password가 평서문,

응답에선 암호화 등 다른 값을 내려줄 수 있도록 따로 작성한다.

여기까지 작성이 되었다면, 컨트롤러로 돌아가, 

각각의 GET,POST.. 요청에 어떠한 값을 받고, 넣을 것인지 적어준다.

![image](https://user-images.githubusercontent.com/85108615/199146224-e263f4e8-cf1c-4f5f-8cf0-7aed2fc812ad.png)


### CrudInterface

CrudInterface에 제네릭으로 작성해야줘야한다.

이유는, 다른 request, ItemRequest라면 또다른 요청과 응답이기에 ... 고정하지 않는다.

```java
//CrudInterface.java

package com.example.study.ifs;

import com.example.study.model.network.Header;

public interface CrudInterface<Req, Res> {

    Header<Res> create(Req request);

    Header<Res> read(Long id);

    Header<Res> update(Req request);

    Header<Res> delete(Long id);

}

```



------------------------------------------------------

# Service 만들기


