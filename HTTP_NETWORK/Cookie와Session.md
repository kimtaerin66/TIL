# http Cookie

http는 기본적으로 무상태이다.

따라서 http로 사이트에 접속을해서, 로그인을 하거나 상품을 장바구니에 담아도

기억을 하지못하고, 다음 접속시에는 초기상태로 돌아간다. 이게 굉장히 불편하기때문에

정보를 기억할 수 있게 "쿠키"라는 것을 이용해 http 헤더부분에 정보를 저장해둔다.



> 쿠키는 소프트웨어가 아니다. 쿠키는 컴퓨터 내에서 프로그램처럼 실행될 수 없으며 바이러스를 옮길 수도, 악성코드를 설치할 수도 없다.
>  하지만 스파이웨어를 통해 유저의 브라우징 행동을 추적하는데에 사용될 수 있고, 누군가의 쿠키를 훔쳐서 해당 사용자의 웹 계정 접근권한을 획득할 수도 있다. - 위키백과 -


## 특징

1. 쿠키는 클라이언트에 저장되며, key와 value로 이루어져있다.

2. 쿠키는 만료기간 설정이 가능하고, 만료기간전까지 클라이언트를 종료해도 사라지지않는다.

3. 사용예: 로그인시, 아이디와 비밀번호 저장기능 / 쇼핑몰 장바구니 기능 / 팝업창 더이상 이창을 보지않음 체크

##  예제

쿠키에 정보를 저장하려면 "Set-Cookie"를 사용한다.
```
Set-Cookie : "userId" : "kimtaerin66";
```

## 단점

이러한 쿠키의 단점은 

1. 쿠키가 유실되기 쉽다.

많이 사용하는 크롬에서도 쿠키삭제 기능이 존재하며, 이렇게 쿠키를 삭제하면 한번에 모든사이트의 쿠키가 삭제되어버려

중요한내용은 쿠키에 저장하지 않는다.


2. 도난 되기 쉽다.

클라이언트에 저장되는것이기때문에 온갖 해킹에 노출이 된다. 보안을 열심히 신경쓴다해도

개개인의 보안수준으로는 해킹을 막을 수없다.

## 대체기술 - 세션

세션이란 ? 쿠키를 기반으로 하고있지만, 사용자 정보를 브라우저에 저장하는 쿠키와는달리, 서버측에서 관리한다.

세션은 클라이언트를 구분하기위해 세션 id를 부여하고 브라우저를 종료할때까지 인증을 유지한다.

사용예 : 로그인(보안상 중요한 작업)


## 쿠키와 세션의 차이

가장 큰 차이는 정보가 저장되는 위치.

쿠키는 서버의 자원을 전혀사용 x, 그러므로 속도는 쿠키가 더빠르다. 하지만 보안면에선 세션이 우수.


-----


로컬 스토리지, 세션 스토리지

이 두개의 차이점은 데이터가 어떤범위에서 얼마나 오래 보존되느냐이다.

유저가 여러개의 창을 띄웠을때 : 세션스토리지는 데이터가 서로 격리되어 저장 , 창이 닫히면 세션 소멸.

로컬스토리지는 여러 창끼리 서로 데이터 교환, 창을 닫아도 데이터 존재.






